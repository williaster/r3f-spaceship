(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5979:function(e,t,r){"use strict";r.r(t);var n=r(7294),s=r(9101),a=r(2212),o=r(6147),i=r(5893);t.default=function(e){var t=e.speed,r=void 0===t?1:t,c=(0,o.M4)({starColor:"#db2438",starCount:{value:500,min:0,max:1e3,step:1},starSpread:{value:30,min:1,max:100,step:1},wrapDistance:{value:70,min:20,max:100,step:1}}),l=c.starCount,u=c.starColor,d=c.starSpread,f=c.wrapDistance,m=(0,n.useRef)(),h=(0,n.useMemo)((function(){return new a.Object3D}),[]),p=(0,n.useMemo)((function(){for(var e=[],t=0;t<l;t++)e.push({speedFactor:a.MathUtils.randFloat(.2,1),x:a.MathUtils.randFloat(-d,d),y:a.MathUtils.randFloat(-d,d),z:a.MathUtils.randFloat(-d,d),random:a.MathUtils.randFloat(20,100)});return e}),[l,d]);return(0,s.xQ)((function(e){var t=e.clock.elapsedTime;p.forEach((function(e,n){var s=e.x,a=e.y,o=e.z,i=e.random,c=e.speedFactor,l=(a-t*r*c)%f+(0===r?0:f/2),u=Math.cos(i);h.position.set(s,l,o),h.scale.set(u,u,u),h.rotation.set(0,Math.PI*t*(i/50),0),h.updateMatrix(),m.current.setMatrixAt(n,h.matrix)})),m.current.instanceMatrix.needsUpdate=!0})),(0,i.jsxs)("instancedMesh",{ref:m,args:[null,null,l],children:[(0,i.jsx)("planeGeometry",{args:[.25,10]}),(0,i.jsx)("meshPhongMaterial",{color:u,side:a.DoubleSide,depthWrite:!1})]})}},6526:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var n=r(7294),s=r(6147),a=r(5845),o=r(2212),i=r(9101);const c=(e,t=a.YQ.NORMAL)=>(0,n.forwardRef)((function({blendFunction:r,opacity:s,...a},o){const i=(0,n.useMemo)((()=>new e(a)),[a]);return(0,n.useLayoutEffect)((()=>{i.blendMode.blendFunction=r||t,void 0!==s&&(i.blendMode.opacity.value=s)}),[r,i.blendMode,s]),n.createElement("primitive",{ref:o,object:i,dispose:null})})),l=(e,t)=>{const r=e[t];return(0,n.useMemo)((()=>{if(r instanceof o.Vector2)return(new o.Vector2).set(r.x,r.y);if(Array.isArray(r)){const[e,t]=r;return(new o.Vector2).set(e,t)}}),[r])},u=()=>{try{const e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(e){return!1}},d=c(a.rk,a.YQ.SCREEN),f=(c(a.at),(0,n.forwardRef)((function(e,t){const r=l(e,"offset"),s=(0,n.useMemo)((()=>new a.YY({...e,offset:r})),[r,e]);return n.createElement("primitive",{ref:t,object:s,dispose:null})})),(0,n.forwardRef)((function({blendFunction:e=a.YQ.NORMAL},t){const r=(0,n.useMemo)((()=>new a.TC(e)),[e]);return n.createElement("primitive",{ref:t,object:r,dispose:null})})),c(a.zo),c(a.AL),(0,n.createContext)(null)),m=n.memo((0,n.forwardRef)((({children:e,camera:t,scene:r,renderPriority:s=1,autoClear:o=!0,depthBuffer:c,disableNormalPass:l,stencilBuffer:d,multisampling:m=8,frameBufferType:h},p)=>{const{gl:x,scene:j,camera:w,size:g}=(0,i.Ky)();r=r||j,t=t||w;const[v,M]=(0,n.useMemo)((()=>{const e=new a.xC(x,{depthBuffer:c,stencilBuffer:d,multisampling:u()?m:0,frameBufferType:h});e.addPass(new a.CD(r,t));const n=l?null:new a.gh(r,t);return n&&e.addPass(n),[e,n]}),[t,x,c,d,m,h,r,l]);(0,n.useEffect)((()=>null==v?void 0:v.setSize(g.width,g.height)),[v,g]),(0,i.xQ)(((e,t)=>(x.autoClear=o,void v.render(t))),s);const y=(0,n.useRef)(null);(0,n.useEffect)((()=>{let e;return y.current&&y.current.__r3f&&v&&(e=new a.H5(t,...y.current.__r3f.objects),v.addPass(e),e.renderToScreen=!0),()=>{e&&(null==v||v.removePass(e))}}),[v,e,t]);const b=(0,n.useMemo)((()=>({composer:v,normalPass:M,camera:t,scene:r})),[v,M,t,r]);return(0,n.useImperativeHandle)(p,(()=>v),[v]),n.createElement(f.Provider,{value:b},n.createElement("group",{ref:y},e))})));(0,n.forwardRef)((function({target:e,depthTexture:t,...r},s){const{camera:i}=(0,n.useContext)(f),c=(0,n.useMemo)((()=>new a.Jy(i,r)),[i,r]);return(0,n.useLayoutEffect)((()=>{if(e){const t=e instanceof o.Vector3?(new o.Vector3).set(e.x,e.y,e.z):(new o.Vector3).set(e[0],e[1],e[2]);c.target=t}t&&c.setDepthTexture(t.texture,t.packing)}),[e,t,c]),n.createElement("primitive",{ref:s,object:c,dispose:null})})),c(a.ol),(0,n.forwardRef)((function({active:e=!0,...t},r){const s=l(t,"delay"),o=l(t,"duration"),i=l(t,"strength"),c=(0,n.useMemo)((()=>new a.sy({...t,delay:s,duration:o,strength:i})),[s,o,t,i]);return(0,n.useLayoutEffect)((()=>{c.mode=e?t.mode||a.O7.SPORADIC:a.O7.DISABLED}),[e,c,t.mode]),n.createElement("primitive",{ref:r,object:c,dispose:null})})),(0,n.forwardRef)((function(e,t){const{camera:r}=(0,n.useContext)(f),s=(0,n.useMemo)((()=>new a.KI(r,e.sun,e)),[r,e]);return n.createElement("primitive",{ref:t,object:s,dispose:null})})),(0,n.forwardRef)((function({size:e,...t},r){const s=(0,n.useMemo)((()=>new a.Qt(t)),[t]);return(0,n.useLayoutEffect)((()=>{e&&s.setSize(e.width,e.height)}),[s,e]),n.createElement("primitive",{ref:r,object:s,dispose:null})})),c(a.JL),c(a.xV,a.YQ.COLOR_DODGE),(0,n.forwardRef)((function({selection:e=[],selectionLayer:t=10,blendFunction:r,patternTexture:s,edgeStrength:o,pulseSpeed:i,visibleEdgeColor:c,hiddenEdgeColor:l,width:u,height:d,kernelSize:m,blur:h,xRay:p,...x},j){const{scene:w,camera:g}=(0,n.useContext)(f),v=(0,n.useMemo)((()=>new a.Mn(w,g,{blendFunction:r,patternTexture:s,edgeStrength:o,pulseSpeed:i,visibleEdgeColor:c,hiddenEdgeColor:l,width:u,height:d,kernelSize:m,blur:h,xRay:p})),[r,h,g,o,d,l,m,s,i,w,c,u,p]);return(0,n.useEffect)((()=>{v.clearSelection(),v.setSelection(Array.isArray(e)?e.map((e=>e.current)):[e.current])}),[v,e]),(0,n.useEffect)((()=>{v.selectionLayer=t}),[v,t]),n.createElement("primitive",{ref:j,object:v,dispose:null})})),(0,n.forwardRef)((function({granularity:e=5},t){const r=(0,n.useMemo)((()=>new a.Qg(e)),[e]);return n.createElement("primitive",{ref:t,object:r,dispose:null})})),c(a.p$,a.YQ.OVERLAY),(0,n.forwardRef)((function({selection:e=[],selectionLayer:t=10,lights:r=[],luminanceThreshold:s,luminanceSmoothing:o,intensity:i,width:c,height:l,kernelSize:u},d){0===r.length&&console.warn("SelectiveBloom requires lights to work.");const{scene:m,camera:h}=(0,n.useContext)(f),p=(0,n.useMemo)((()=>new a.V$(m,h,{blendFunction:a.YQ.SCREEN,luminanceThreshold:s,luminanceSmoothing:o,intensity:i,width:c,height:l,kernelSize:u})),[h,l,i,u,o,s,m,c]);return(0,n.useEffect)((()=>{p.selection.set(Array.isArray(e)?e.map((e=>e.current)):[e.current])}),[p,e]),(0,n.useEffect)((()=>{p.selection.layer=t}),[p,t]),(0,n.useEffect)((()=>(r.forEach((e=>((e,t)=>{e.current&&e.current.layers.enable(t.selection.layer)})(e,p))),()=>r.forEach((e=>((e,t)=>{e.current&&e.current.layers.disable(t.selection.layer)})(e,p))))),[p,r,t]),n.createElement("primitive",{ref:d,object:p,dispose:null})})),c(a.wL),(0,n.forwardRef)((function(e,t){const{camera:r,normalPass:s}=(0,n.useContext)(f),o=(0,n.useMemo)((()=>null===s?(console.error("Please enable the NormalPass in the EffectComposer in order to use SSAO."),null):new a.bn(r,s.renderTarget.texture,{blendFunction:a.YQ.MULTIPLY,samples:30,rings:4,distanceThreshold:1,distanceFalloff:0,rangeThreshold:.5,rangeFalloff:.1,luminanceInfluence:.9,radius:20,scale:.5,bias:.5,...e})),[r,s,e]);return n.createElement("primitive",{ref:t,object:o,dispose:null})})),(0,n.forwardRef)((function({preset:e=a.F9.HIGH,edgeDetectionMode:t=a.HN.COLOR},r){const s=(0,i.U2)(a.hB,""),o=(0,n.useMemo)((()=>new a.fY(...s,e,t)),[s,e,t]);return n.createElement("primitive",{ref:r,object:o,dispose:null})})),(0,n.forwardRef)((function({textureSrc:e,texture:t,...r},s){const c=(0,i.U2)(o.TextureLoader,e);(0,n.useLayoutEffect)((()=>{c.encoding=o.sRGBEncoding,c.wrapS=c.wrapT=o.RepeatWrapping}),[c]);const l=(0,n.useMemo)((()=>new a.tq({...r,texture:c||t})),[r,c,t]);return n.createElement("primitive",{ref:s,object:l,dispose:null})})),c(a.M4),c(a.Dd),c(a.Uy),(0,n.forwardRef)((function({lut:e,tetrahedralInterpolation:t,...r},s){const o=(0,n.useMemo)((()=>new a.YH(e,r)),[e,r]);return(0,n.useLayoutEffect)((()=>{e&&o.setLUT(e),t&&o.setTetrahedralInterpolationEnabled(t)}),[o,e,t]),n.createElement("primitive",{ref:s,object:o,dispose:null})}));var h=r(5893);function p(){var e=(0,s.M4)({intensity:{value:.5,min:.1,max:5,step:.01},threshold:{value:.67,min:0,max:1,step:.01},opacity:{value:.35,min:0,max:1,step:.05}}),t=e.intensity,r=e.threshold,n=e.opacity;return(0,h.jsx)(m,{children:(0,h.jsx)(d,{luminanceThreshold:r,intensity:t,luminanceSmoothing:0,opacity:n})})}},5360:function(e,t,r){"use strict";r.r(t);var n=r(7294),s=r(2212),a=r(9101),o=r(6147),i=r(5893);t.default=function(e){var t=e.speed,r=void 0===t?100:t,c=e.particleSize,l=void 0===c?.1:c,u=(0,o.M4)({smokeDensity:{value:485,min:0,max:1e3,step:1},smokeSpread:{value:3,min:0,max:10,step:.5},smokeLength:{value:15,min:10,max:100,step:1},smokeColor:"#4ce5df",smokeOpacity:{value:.25,min:0,max:1,step:.05},smokeSize:{value:5,min:1,max:100,step:1},smokeGrowthRate:{value:.5,min:.1,max:1.5,step:.05}}),d=u.smokeDensity,f=u.smokeSpread,m=u.smokeLength,h=u.smokeColor,p=u.smokeOpacity,x=u.smokeSize,j=u.smokeGrowthRate,w=(0,n.useRef)(),g=(0,n.useMemo)((function(){return new s.Object3D}),[]),v=(0,n.useMemo)((function(){for(var e=[],t=0;t<d;t++)e.push({speedVariation:s.MathUtils.randFloat(.01,.51),y:s.MathUtils.randFloat(0,0+m),growX:s.MathUtils.randFloatSpread(f),growZ:s.MathUtils.randFloatSpread(f)});return e}),[d,f,m]);return(0,a.xQ)((function(e){var t=e.clock.elapsedTime;v.forEach((function(e,n){var s=e.speedVariation,a=e.y,o=e.growX,i=e.growZ,c=t*Math.max(1,r)*s,l=Math.min(0,(a-c)%m),u=l/m,d=o*u+Math.sin(o*t)*f*u,h=i*u+Math.sin(i*t)*f*u,p=Math.min(.5*Math.pow(2,Math.abs(l*j)),x);g.position.set(d,l,h),g.scale.set(p,p,p),g.updateMatrix(),w.current.setMatrixAt(n,g.matrix)})),w.current.instanceMatrix.needsUpdate=!0})),(0,i.jsxs)("instancedMesh",{ref:w,args:[null,null,d],position:[0,-1,0],children:[(0,i.jsx)("sphereGeometry",{args:[l,10,10]}),(0,i.jsx)("meshBasicMaterial",{color:h,transparent:!0,opacity:p,depthWrite:!1})]})}},2224:function(e,t,r){"use strict";r.r(t);r(7294);var n=r(9101),s=r(6037),a=r(6147),o=r(5979),i=r(5360),c=r(6526),l=r(5893),u=function(){var e=(0,a.M4)({background:"#01020d",speed:{value:50,min:0,max:200}}),t=e.background,r=e.speed;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("color",{attach:"background",args:[t]}),(0,l.jsx)(s.z,{}),(0,l.jsx)("ambientLight",{intensity:.5}),(0,l.jsx)(d,{}),(0,l.jsx)(i.default,{speed:r}),(0,l.jsx)(o.default,{speed:r})]})},d=function(){return(0,l.jsxs)("mesh",{children:[(0,l.jsx)("coneGeometry",{args:[.75,2,30]}),(0,l.jsx)("meshStandardMaterial",{color:"#ff8474"})]})};t.default=function(e){var t=e.showControls,r=void 0===t||t;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.Xz,{camera:{position:[1,-10,15]},children:[(0,l.jsx)(u,{}),(0,l.jsx)(c.default,{})]}),(0,l.jsx)(a.Zf,{hidden:!r})]})}},2562:function(e,t,r){"use strict";r.r(t);var n=r(9008),s=r(4476),a=r.n(s),o=r(2224),i=r(5893),c="/r3f-spaceship";t.default=function(){return(0,i.jsxs)("div",{className:a().container,children:[(0,i.jsxs)(n.default,{children:[(0,i.jsx)("title",{children:"Build a 3D spaceship \ud83d\ude80"}),(0,i.jsx)("link",{rel:"icon",href:"".concat(c,"/favicon.ico")})]}),(0,i.jsxs)("main",{className:a().main,children:[(0,i.jsx)("div",{className:a().hero,children:(0,i.jsx)(o.default,{showControls:!1})}),(0,i.jsx)("h1",{className:a().title,children:"Build a 3D spaceship \ud83d\ude80"}),(0,i.jsx)("p",{className:a().description,children:"Follow the links below for a step-by-step guide to create the this"}),(0,i.jsxs)("div",{className:a().row,children:[(0,i.jsxs)("a",{href:"".concat(c,"/01_3d-concepts"),className:a().card,children:[(0,i.jsx)("h2",{children:"01. \ud83e\udd13 \u2192"}),(0,i.jsx)("p",{children:"Basic 3D programming concepts."})]}),(0,i.jsxs)("a",{href:"".concat(c,"/02_r3f"),className:a().card,children:[(0,i.jsx)("h2",{children:"02. \ud83d\ude80 \u2192"}),(0,i.jsx)("p",{children:"3D in React with @react-three/fiber"})]}),(0,i.jsxs)("a",{href:"".concat(c,"/03_stars"),className:a().card,children:[(0,i.jsx)("h2",{children:"03. \ud83d\udcab \u2192"}),(0,i.jsx)("p",{children:"Animate stars in our scene"})]}),(0,i.jsxs)("a",{href:"".concat(c,"/04_smoke"),className:a().card,children:[(0,i.jsx)("h2",{children:"04. \ud83d\udca8 \u2192"}),(0,i.jsx)("p",{children:"Add particle smoke to our rocket"})]}),(0,i.jsxs)("div",{className:a().card,children:[(0,i.jsx)("h2",{children:"Resources"}),(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://threejs.org/",children:"three.js"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/pmndrs/react-three-fiber",children:"@react-three/fiber"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://threejs-journey.com/",children:"threejs-journey ($100)"})}),(0,i.jsx)("li",{children:(0,i.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://twitter.com/0xca0a",children:"0xca0a (r3f creator)"})})]})]})]})]})]})}},5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(2562)}])},4476:function(e){e.exports={container:"Home_container__1EcsU",main:"Home_main__1x8gC",title:"Home_title__3DjR7",card:"Home_card__2SdtB",description:"Home_description__17Z4F",hero:"Home_hero__1eT__",code:"Home_code__axx2Y",row:"Home_row__88lPM",column:"Home_column__1nMth"}},9008:function(e,t,r){e.exports=r(639)}},function(e){e.O(0,[774,737,429,101,147,37,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);